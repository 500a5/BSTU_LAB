#### Нахождение решения 
Создать произвольное решение очень просто. Сначала нужно инициализировать решение, позволив каждому ферзю занять строку, соответствующую столбцу. Затем необходимо пройти по каждому столбцу и выбрать произвольное число от 1 до N для каждого столбца. Затем два элемента перемещаются (текущий столбец и произвольно выбранный столбец). Когда алгоритм достигает конца, автоматически формируется решение.

#### Энергия 

Энергия решения - количество конфликтов, которые возникают в кодировке. 
Задача заключается в нахождении кодировки, при которой энергия = 0 (то есть на доске нет конфликтов).



### Начальное решение

Начальное решение будет случайным. 
На самом первом шаге оно помещается в текущее решение (Current solution). 
Далее в качестве начального решения будет то, которое было найдено во время предыдущего поиска.

### Оценка решения 

**Кодировка** - представление решения

Оценка решения состоит из декодировки текущего решения.
Эффективность решения будет оценена на основании того, насколько успешно удалось декодировать.

### Случайный поиск решения

Поиск решения начинается с копирования текущего решения в рабочее решение (Working solution). 
Затем мы произвольно модифицируем рабочее решение.
Представьте себе кодировку задачи коммивояжера, в которой каждый элемент представляет собой город. Чтобы выполнить поиск по рабочему решению, мы берем два элемента и переставляем их. Это позволяет сохранить целостность решения, так как при этом не происходит повторения или пропуска города. После выполнения поиска рабочего решения мы оцениваем решение, как было описано ранее. Поиск нового решения основан на методе Монте Карло (то есть случайным образом).



Создать произвольное решение очень просто. Сначала нужно инициализировать решение, позволив каждому ферзю занять строку, соответствующую столбцу. Затем необходимо пройти по каждому столбцу и выбрать произвольное число от 1 до N для каждого столбца. Затем два элемента перемещаются (текущий столбец и произвольно выбранный столбец). Когда алгоритм достигает конца, автоматически формируется решение.

### Критерий допуска

На этом этапе алгоритма у нас имеется два решения. 

Первое – это наше оригинальное решение, которое называется текущим решением
Второе – найденное решение, которое именуется рабочим решением. 

С каждым решением связана определенная энергия, представляющая собой его эффективность (чем ниже энергия, тем более эффективно решение).

Если рабочее решение имеет меньшую энергию, чем текущее решение, то мы копируем рабочее решение в текущее решение и переходим к этапу снижения температуры.

Если рабочее решение хуже, чем текущее решение, определяем критерий допуска, чтобы выяснить, что следует сделать с текущим рабочим решением. 

Вероятность допуска основывается на уравнении (которое, в свою очередь, базируется на законе термодинамики): P(δE) = exp(–δE/T)

При высокой температуре (свыше 60 °С) плохие решения принимаются чаще, чем отбрасываются. 
Если энергия меньше, вероятность принятия решения выше. При снижении температуры вероятность принятия худшего решения также снижается. При этом более высокий уровень энергии также способствует уменьшению вероятности принятия худшего решения.

При высоких температурах симулированное восстановление позволяет принимать худшие решения для того, чтобы произвести более полный поиск решений. При снижении температуры диапазон поиска также уменьшается, пока не достигается равенство при температуре 0°.

### Снижение температуры

После ряда итераций по алгоритму при данной температуре мы ненамного снижаем ее. Существует множество вариантов снижения температуры. В данном примере используется простая геометрическая функция: Ti+1 = αTi

Константа α меньше единицы.

### Повтор 

При одной температуре выполняется несколько итераций. После завершения итераций температура будет понижена. Процесс продолжится, пока температура не достигнет нуля.

